$MBR_SIZE = 512

# Prompt the user if they wish to run the script with administrative privileges
$runAsAdmin = Read-Host "This script modifies the Master Boot Record (MBR) which requires administrative privileges. Do you want to run this script as an administrator? (Y/N)"

if ($runAsAdmin -ne "Y" -and $runAsAdmin -ne "y") {
    Write-Host "Script execution canceled. Run the script as an administrator if you want to modify the MBR."
    Exit
}

# Create a new PowerShell process with elevated privileges
$psi = New-Object System.Diagnostics.ProcessStartInfo
$psi.FileName = 'powershell'
$psi.Arguments = "-ExecutionPolicy Bypass -File `"$PSCommandPath`""
$psi.Verb = 'RunAs'

try {
    [System.Diagnostics.Process]::Start($psi) | Out-Null
}
catch {
    Write-Host "Failed to launch the script with elevated privileges: $_"
}
